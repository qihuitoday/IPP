/**
 * Derek Qi
 */
package com.qihui.ssh.web.sys;

import com.qihui.ssh.dao.entities.Employee;
import com.qihui.ssh.service.user.UserService;
import com.qihui.ssh.web.BaseAction;

public class LoginAction extends BaseAction {

	private String userName;
	private String password;

	UserService userService;

	public String execute() throws Exception {

		Employee employee = userService.getUserByUserId(userName.trim());
		if (employee != null && password.equals(employee.getPassword())) {
			super.setSessionData("loginUser", employee);
			super.addCookie("name", userName);
			return "success";
		} else {
			super.addCookie("loginFlag", "false");
			return "failer";
		}
	}

	public void setUserService(UserService userService) {
		this.userService = userService;
	}

	public String getUserName() {
		return userName;
	}

	public void setUserName(String userName) {
		this.userName = userName;
	}

	public String getPassword() {
		return password;
	}

	public void setPassword(String password) {
		this.password = password;
	}
}
