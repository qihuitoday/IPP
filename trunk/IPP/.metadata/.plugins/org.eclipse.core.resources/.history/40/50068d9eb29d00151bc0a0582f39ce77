package com.qihui.ssh.service.novel;

import com.qihui.ssh.ContextTest;
import com.qihui.ssh.dao.entities.Novelchapter;

public class NovelServiceTest extends ContextTest {

	private static NovelService novelService;

	/*
	 * Test get Novel Chapter by NovelID and ChapterID.
	 */
	public void testGetNovelChapterByNovelChapterID() {
		NovelService novelService = getService();
		Integer novelID = Integer.valueOf(5);
		Integer chapterID = Integer.valueOf(6);
		Novelchapter novelchapter = novelService.getNovelChapterByNovelChapterID(novelID, chapterID);
		if (novelchapter != null) {
			System.out.println(novelchapter.getChapterName());
		} else {
			System.out.println("novelchapter is null!");
		}
	}

	public void testGetNovelChapterDetailVOByID() {
		NovelService novelService = getService();
		Integer[] ID = { Integer.valueOf(7), Integer.valueOf(9), Integer.valueOf(12) };
		for (int i = 0; i < ID.length; i++) {
			NovelChapterDetailVO novelChapterDetailVO = novelService.getNovelChapterDetailVOByID(ID[i]);
			if (novelChapterDetailVO != null) {
				System.out.println("NovelID: " + novelChapterDetailVO.getNovelID());
				System.out.println("PrevNovelChapterID: " + novelChapterDetailVO.getPrevNovelChapterID());
				System.out.println("NextnovelChapterID: " + novelChapterDetailVO.getNextnovelChapterID());
				System.out.println("ChapterName: " + novelChapterDetailVO.getNovelChapter().getChapterName());
			} else {
				System.out.println("novelChapterDetailVO is null!");
			}
		}

	}

	/*
	 * Get novelService.
	 */
	private NovelService getService() {
		if (novelService == null) {
			return (NovelService) applicationContext.getBean("novelService");
		} else {
			return novelService;
		}
	}
}
